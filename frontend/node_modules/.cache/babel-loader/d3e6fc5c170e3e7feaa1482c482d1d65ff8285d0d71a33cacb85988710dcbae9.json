{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lab_services_student\\\\Documents\\\\INSY7314_T2\\\\frontend\\\\src\\\\components\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport api from \"../api\";\nimport { validateRegister } from \"../utils/validators\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [form, setForm] = useState({\n    fullName: \"\",\n    idNumber: \"\",\n    accountNumber: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const onChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const submit = async ev => {\n    ev.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    const v = validateRegister(form);\n    if (v) {\n      setError(v);\n      return;\n    }\n    try {\n      const res = await api.post(\"/user/register\", form);\n      setSuccess(res.message || \"Registered\");\n      setForm({\n        fullName: \"\",\n        idNumber: \"\",\n        accountNumber: \"\",\n        password: \"\"\n      });\n    } catch (err) {\n      var _err$body;\n      setError(((_err$body = err.body) === null || _err$body === void 0 ? void 0 : _err$body.message) || \"Registration failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Register (Customer)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Full name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"fullName\",\n          value: form.fullName,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 59\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"ID Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"idNumber\",\n          value: form.idNumber,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 59\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Account Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"accountNumber\",\n          value: form.accountNumber,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 64\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: form.password,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 58\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"primary\",\n        type: \"submit\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"DvYDE+Jz7hlgMS94LuT7sfNUXKg=\");\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","api","validateRegister","jsxDEV","_jsxDEV","Register","_s","form","setForm","fullName","idNumber","accountNumber","password","error","setError","success","setSuccess","onChange","e","target","name","value","submit","ev","preventDefault","v","res","post","message","err","_err$body","body","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","_c","$RefreshReg$"],"sources":["C:/Users/lab_services_student/Documents/INSY7314_T2/frontend/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport api from \"../api\";\r\nimport { validateRegister } from \"../utils/validators\";\r\n\r\nexport default function Register() {\r\n  const [form, setForm] = useState({ fullName: \"\", idNumber: \"\", accountNumber: \"\", password: \"\" });\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const onChange = e => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const submit = async (ev) => {\r\n    ev.preventDefault();\r\n    setError(\"\"); setSuccess(\"\");\r\n    const v = validateRegister(form);\r\n    if (v) { setError(v); return; }\r\n    try {\r\n      const res = await api.post(\"/user/register\", form);\r\n      setSuccess(res.message || \"Registered\");\r\n      setForm({ fullName: \"\", idNumber: \"\", accountNumber: \"\", password: \"\" });\r\n    } catch (err) {\r\n      setError(err.body?.message || \"Registration failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h3>Register (Customer)</h3>\r\n      <form onSubmit={submit}>\r\n        <div className=\"form-row\"><label>Full name</label><input name=\"fullName\" value={form.fullName} onChange={onChange} /></div>\r\n        <div className=\"form-row\"><label>ID Number</label><input name=\"idNumber\" value={form.idNumber} onChange={onChange} /></div>\r\n        <div className=\"form-row\"><label>Account Number</label><input name=\"accountNumber\" value={form.accountNumber} onChange={onChange} /></div>\r\n        <div className=\"form-row\"><label>Password</label><input type=\"password\" name=\"password\" value={form.password} onChange={onChange} /></div>\r\n        <button className=\"primary\" type=\"submit\">Register</button>\r\n      </form>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {success && <div className=\"success\">{success}</div>}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}